graph TD
    A[User Question] --> B{Check Semantic Cache}
    B -->|Cache Hit ✨| C[Return Cached Answer]
    B -->|Cache Miss ❌| D[LangGraph RAG Pipeline]
    
    D --> E[LLM Decision Node]
    E -->|Need Documents| F[Retrieve from Document VectorStore]
    E -->|Can Answer Directly| C
    
    F --> G{Grade Document Relevance}
    G -->|Relevant ✓| H[Generate Answer with Context]
    G -->|Not Relevant ✗| I[Rewrite Question]
    I --> E
    
    H --> J[Add Q&A to Cache]
    J --> C
    
    C --> K[Return to User]
    
    style B fill:#e1f5ff
    style C fill:#c8e6c9
    style D fill:#fff9c4
    style J fill:#f8bbd0
    style F fill:#d1c4e9
    style H fill:#ffe0b2
